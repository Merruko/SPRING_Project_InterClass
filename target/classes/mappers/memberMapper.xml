<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="member">

	<!-- 회원가입 -->
	<insert id="insert" parameterType="com.spring.proj.domain.MemberVO">
	
		<!-- SEQ 작업 -->
		<selectKey keyProperty="mNum" resultType="int" order="BEFORE">
			SELECT zbf_get_mem('now') FROM DUAL
		</selectKey>
	
	INSERT INTO member
	(mNum, mId, mPwd, mName, mGender, mBirth, mEmail, mPhone)
	VALUES
	(#{mNum},#{mId},#{mPwd},#{mName},#{mGender},#{mBirth},#{mEmail},#{mPhone})
	</insert>
	
	
	<!-- 회원삭제 -->
	<insert id="delete" parameterType="com.spring.proj.domain.MemberVO">
	DELETE FROM member WHERE mId = #{mId}
	</insert>
	
	
	<!-- 회원목록전체 -->
	<select id="selectall" resultType="com.spring.proj.domain.MemberVO">
	SELECT * FROM member ORDER BY mNum ASC
	</select>
	
	
	<!-- 회원상세정보 -->
	<select id="selectOne" resultType="com.spring.proj.domain.MemberVO">
	SELECT * FROM member WHERE mId = #{mId}
	</select>
	
	
	<!-- 회원정보수정 -->
	<update id="update" parameterType="com.spring.proj.domain.MemberVO">
	UPDATE member
	SET mPwd = #{mPwd},
		mName = #{mName},
		mGender = #{mGender},
		mBirth = #{mBirth},
		mEmail = #{mEmail},
		mPhone = #{mPhone}
	WHERE mId = #{mId}
	</update>
	
</mapper>